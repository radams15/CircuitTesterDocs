FUNCTION init(circuit_elements)
	FOR e IN circuit_elements DO -- splits the elements array
		IF e IS Battery THEN
			batteries.append(e)
		ELSEIF e IS Resistor THEN
			resistors.append(e)
		ELSEIF e IS CurrentSource THEN
			current_sources.append(e)
		END IF
		
	END
	
	{- adds together all 3 arrays. Not using the function parameter
	as this could contain values that are not batteries,
	resistors or current sources -}
	elements = batteries + resistors + current_sources  
	
	FOR e IN elements DO -- populate the node_set map
		node_set[e.n0] = e.n0
		node_set[e.n1] = e.n1
	END
	
	node_count = node_set.length() -- count the number of nodes
	nodes = node_set.values() -- set nodes to just the real node ids
END
